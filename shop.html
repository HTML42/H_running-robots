<!DOCTYPE html>
<html lang="en">
<head>
  <title>Running Robot</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
  
  <!--link rel="stylesheet" href="lib/fontsawesome_v5.0.13.css" />
  <link rel="stylesheet" href="lib/bootstrap.min.css" />
  <script src="lib/jquery-3.1.1.min.js"></script>
  <script src="lib/popper.min.js"></script>
  <script src="lib/bootstrap.min.js"></script-->
  <link rel="stylesheet" href="style/style.css" />
  
  <script>

	$.getJSON("model/Getdata_Player.php",function(result){
		var result=result['info'];
		var id= result[0]['id'];
		if(id==-1)
		{
			$("#dashboard").hide();
			$("#levels").hide();
			$("#garage").hide();
			$("#logout").hide();
		}
		else
		{
			$("#register").hide();
			$("#login").hide();	
		}
		
	}).done(function(d){
		//alert("sucess");
	}).fail(function(d,textStatus,error){
		//alert("getJSON failed, status:"+textStatus+", error: "+error)
	}).always(function(d){
		//alert("complete");
	});
  
  function shop(TypeId)
  {
  	$("#shop").empty();//remove previous items
	$.getJSON("model/Getdata_shop.php",{id:TypeId},function(result){
		//when selected items are available
			var box = $("<div class='box'></div><br/>");
			switch(TypeId)
			{
				case 1:
					var heading= $("<h4 class='secondary center'>Buy Robots</h4>");
				break;
				case 2:
					var heading= $("<h4 class='secondary center'>Buy Coins</h4>");
				break;
				case 3:
					var heading= $("<h4 class='secondary center'>Buy Gold</h4>");
				break;
				case 4:
					var heading= $("<h4 class='secondary center'>Buy Items</h4>");
				break;
				case 5:
					var heading= $("<h4 class='secondary center'>Buy Costumes</h4>");
				break;	
			}
			
			box.append(heading);//add heading
		result=result['shop']['item'];
		//when selected item are not available
		if(result.length==0)
		{
			var not_available = $("<h6><strong>Not avaialble at the moment, check back soon. Mean while you can buy other items, thank you! </strong></h6>");
			box.append(not_available);
			$("#shop").append(box);
		}//if end
		else 
		{
			for(i=0;i<result.length;i++)
			{
				var name= $("<h6><strong>Name: </strong>"+result[i]['name'].charAt(0).toUpperCase() + result[i]['name'].substr(1)+"</h6>");
				var coin= $("<h6><strong>Coin: </strong>"+result[i]['coin']+"</h6>");
				var gold= $("<h6><strong>Gold: </strong>"+result[i]['gold']+"</h6>");
				var euro= $("<h6><strong>Price: </strong>"+result[i]['euro']+"â‚¬</h6>");
				//var detailBtn= $("<button onclick='ShowDetails(`"+result[i]['details'] +"`)' class='btn btn-primary'>Details</button>");
				box.append(name);
				box.append(coin);
				box.append(gold);
				box.append(euro);
				box.append("<hr>");
				
				$("#shop").append(box);			
				
			}//end loop
		}//else end
			}).done(function(d){
				//alert("sucess");
			}).fail(function(d,textStatus,error){
				alert("getJSON failed, status:"+textStatus+", error: "+error)
			}).always(function(d){
				//alert("complete");
			});
	}
  </script>
</head>
<body>

	<nav class="navbar navbar-expand-sm navbar-dark bg-dark">
    	<a class="navbar-brand logo" href="index.html" ><strong>R-R</strong></a>
        <div id="navbarNavDropdown" class="navbar-collapse collapse">
            <ul class="navbar-nav mr-auto">
            	<li class="nav-item active" id="dashboard">
    				<a class="nav-link" href="dashboard.php"><i class="fa fa-object-group"></i>&nbsp;Dashboard</a>
    			</li>
    			<li class="nav-item active" id="levels">
    				<a class="nav-link" href="levels.php"><i class="fa fa-level-up-alt"></i>&nbsp;Levels</a>
    			</li>
    			<li class="nav-item active" id="garage">
      				<a class="nav-link" href="garage.php"><i class="fa fa-robot"></i>&nbsp;Garage</a>
			    </li>
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item active" id="logout">
      				<a class="nav-link" href="account/logout.php"><i class="fa fa-sign-out-alt"></i>&nbsp;Logout</a>
				</li>
                <li class="nav-item active" id="register">
                    <a class="nav-link" href="account/register.php"><i class="fa fa-user"></i>&nbsp;Register</a>
                </li>
                <li class="nav-item active" id="login">
                    <a class="nav-link" href="account/login.php"><i class="fa fa-sign-in-alt"></i>&nbsp;Login</a>
                </li>
            </ul>
        </div>
	</nav>
	
<!--BODY ------------------------------->
<div class="container-fluid">
  <section class="row">
  	<div class="col-xs-0 col-sm-1 col-md-2 col-lg-2"></div>
   	<div class="col-xs-12 col-sm-10 col-md-8 col-lg-8">
   		<h6 class="font-huge center main">Shop</h6>
   		<br />
   		<div id="shop"></div>
   	</div>
   	<div class="col-xs-0 col-sm-1 col-md-2 col-lg-2"></div>
  </section>
  <!--First Row-->
  <section class="row">
  	<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2"></div>
   	<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
   		<aside class="shop_box" onclick="shop(1)">
   			<img src="img/r1.png" />
   			<label class="secondary center">Buy Robots</label>
   				
   		</aside>
   	</div>
   	<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
   		<aside class="shop_box" onclick="shop(5)">
   			<img src="img/r2.png" />
   			<label class="secondary center">Buy Costumes</label>   				
   		</aside>
	</div>
	<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2"></div>
  </section>
  <!--Second Row-->
  <section class="row">
   	<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
   		<aside class="shop_box" onclick="shop(3)">
   			<img src="img/goldbars.png" />
   			<label class="secondary center">Buy Gold</label>	
   		</aside>
   	</div>
   	<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
   		<aside class="shop_box" onclick="shop(4)">
   			<img src="img/item.png" />
   			<label class="secondary center">Buy Items</label>	
   		</aside>
	</div>
	<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
   		<aside class="shop_box" onclick="shop(2)">
   			<img src="img/coins.png" />
   			<label class="secondary center">Buy Coins</label>	
   		</aside>
   	</div>
  </section>
</div>
<!-- Footer -->
	<section id="footer">
		<div class="container">
			<div class="row text-center text-xs-center text-sm-left text-md-left">
				<div class="col-xs-12 col-sm-4 col-md-4">
					<h5>Running Robots</h5>
				</div>
				<div class="col-xs-12 col-sm-4 col-md-4">
					<ul class="list-unstyled quick-links">
						<li><a href="contact.php"><i class="fa fa-angle-double-right"></i>Contact</a></li>
						<li><a href="shop.html"><i class="fa fa-angle-double-right"></i>Shop</a></li>
					</ul>
				</div>
				<div class="col-xs-12 col-sm-4 col-md-4">
					<ul class="list-unstyled quick-links">
						<li><a href="imprint.html"><i class="fa fa-angle-double-right"></i>Imprint</a></li>
						<li><a href="privacy.html"><i class="fa fa-angle-double-right"></i>Privacy Policy</a></li>
					</ul>
				</div>
			</div>
		</div>
	</section>
<!--Footer End-->
</body>
</html>
